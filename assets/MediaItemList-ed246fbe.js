import{b as a,a as t,_ as T,j as u,F as x,r as R,R as J}from"./index-401e96bf.js";import{Link as v}from"./index-6bea7a43.js";import{useDispatch as U,useSelector as q}from"./index-ce8fa1cc.js";import{u as F}from"./useQuery-99551319.js";import{u as B,I as G,M as H}from"./useIsomorphicEffect-e0594a54.js";import{a as K}from"./Spinner-aae6f266.js";import{a as j}from"./index-b43b7b60.js";var z={},W={get exports(){return z},set exports(l){z=l}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(l){(function(){var s={}.hasOwnProperty;function e(){for(var n=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if(o==="string"||o==="number")n.push(i);else if(Array.isArray(i)){if(i.length){var c=e.apply(null,i);c&&n.push(c)}}else if(o==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){n.push(i.toString());continue}for(var d in i)s.call(i,d)&&i[d]&&n.push(d)}}}return n.join(" ")}l.exports?(e.default=e,l.exports=e):window.classNames=e})()})(W);const Z=z,Y="_my_image_160zz_15",X={my_image:Y,"react-placeholder-pulse":"_react-placeholder-pulse_160zz_1"},D=l=>{l.getAttribute("data-src")&&(l.src=l.getAttribute("data-src"),l.setAttribute("data-loaded","true"))},O=l=>l.getAttribute("data-loaded")==="true",$=l=>{if("loading"in HTMLImageElement.prototype)return l.imgRef.loading="lazy",{lazyObserver:e=>(D(e),null)};let s;return typeof window<"u"&&window.IntersectionObserver&&(s=new IntersectionObserver((e,n)=>{e.forEach(r=>{(r.intersectionRatio>0||r.isIntersecting)&&(n.unobserve(r.target),O(r.target)||D(r.target))})},{rootMargin:"0px",threshold:0})),{lazyObserver:e=>O(e)?null:s?(s.observe(e),s):(D(e),null)}},k=a.memo(({url:l,styledCss:s,className:e})=>{k.displayName="MyImage";const n=a.useRef(null),[r,i]=a.useState(!1),o=a.useCallback(()=>i(!0),[]),c=a.useRef(null);return a.useEffect(()=>{const d=n.current;if(l){const p=$({imgRef:d});c.current=p.lazyObserver(d)}return()=>c.current?.disconnect?.()},[l]),t("img",{onMouseDown:d=>d.preventDefault(),ref:n,className:` bg-dg select-none  ${X.my_image} ${e} ${l?"pika-lazy":""}`,"data-src":l?l.replace(/https?/,"https"):"",style:s??{},"data-settled":r,alt:"",onLoad:o,draggable:!1})}),_=()=>{const[l,s]=a.useState(!1),[e,n]=a.useState(!1),r=a.useRef(null),i=a.useCallback(()=>{n(!1);const c=setTimeout(()=>{s(!1)},300);r.current=c},[]);a.useEffect(()=>()=>{r.current&&clearTimeout(r.current)},[]);const o=a.useCallback(()=>{s(!0)},[]);return a.useEffect(()=>{let c=null;return l&&(c=setTimeout(()=>n(!0),0)),()=>{c&&clearTimeout(c)}},[l]),{isShowModal:l,isShowContent:e,onModalOpen:o,onModalClose:i}},ee="https://bijinfeng.github.io/music-motion-x/assets/nextSong-eac8a560.png",te="https://bijinfeng.github.io/music-motion-x/assets/attention-782cfea6.png",le="https://bijinfeng.github.io/music-motion-x/assets/artist-efeb21e6.png",se="data:image/png;base64,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",V=a.memo(({albumName:l,artistName:s,artistId:e,songName:n,albumId:r,songId:i,imgUrl:o})=>{const c=U(),d=a.useRef(null),[p,b]=a.useState(!1),{isShowModal:g,isShowContent:h,onModalOpen:f,onModalClose:w}=_(),I=j(),C=a.useCallback(A=>{A.stopPropagation(),f()},[f]),N=a.useCallback(A=>{A.stopPropagation(),w()},[w]),{data:S}=F(p?`/api/check/music?id=${i}`:"",()=>p?K.get(`/api/check/music?id=${i}`).then(A=>A.data):null,{refetchOnWindowFocus:!1,suspense:!1});B(()=>{let A;return(async()=>(window.IntersectionObserver||await T(()=>import("./intersection-observer-c37e1c25.js"),[]),A=new IntersectionObserver((m,E)=>{m.forEach(M=>{(M.intersectionRatio>0||M.isIntersecting)&&(b(!0),E.unobserve(M.target))})},{rootMargin:"0px",threshold:0}),A.observe(d.current)))(),()=>{d.current&&A&&A.unobserve(d.current)}},[]);const y=S?.success;return u(x,{children:[u("div",{className:" flex ml-auto relative after:absolute after:w-[40px] after:h-[30px] after:top-1/2 after:left-1/2 after:-translate-x-1/2 after:-translate-y-1/2",onClick:C,ref:d,"data-testid":"song-more",children:[t("span",{className:" w-1 h-1 rounded-[50%] bg-dg"}),t("span",{className:" w-1 h-1 rounded-[50%] bg-dg mx-1"}),t("span",{className:" w-1 h-1 rounded-[50%] bg-dg "})]}),g&&t(G,{isDynamic:!1,children:t(H,{onClick:N,children:u("div",{className:" bg-mg absolute bottom-0 pt-6 px-4 pb-36 transition-transform duration-200 w-full",style:{borderRadius:"12px 12px 0 0",transform:h?"translate3d(0, 0,0)":"translate3d(0, 100%,0)"},children:[t("div",{className:"song_name text-fg text-base single_line",children:n}),u("ul",{className:"contents min-h-[200px] max-h-[55vh] overflow-y-auto",children:[t("li",{className:"next_song text-fg pl-11 mr-0 mb-0 ml-1 text-sm h-[30px] leading-[30px] mt-10",onClick:()=>{y&&c(R.actions.playAtNext({title:n,artistName:s,albumName:l,id:i,artistId:e,albumId:r,imgUrl:o}))},style:{backgroundPosition:"10px center",backgroundRepeat:"no-repeat",backgroundSize:"23px 23px",backgroundImage:y?`url(${ee})`:`url(${te})`},children:y?"下一首播放":"暂无版权"}),t("li",{className:"artist text-fg pl-11 mt-7 mr-0 mb-0 ml-1 text-sm h-[30px] leading-[30px] single_line",style:{backgroundPosition:"10px center",backgroundRepeat:"no-repeat",backgroundSize:"23px 23px",backgroundImage:`url(${le})`},onClick:A=>{c(R.actions.setShowPlayModal(!1)),N(A),setTimeout(()=>{I(`/artist/${e}`)},400)},children:`歌手 ${s}`}),t("li",{className:"album text-fg pl-11 mt-7 mr-0 mb-0 ml-1 text-sm h-[30px] leading-[30px] single_line",style:{backgroundPosition:"10px center",backgroundRepeat:"no-repeat",backgroundSize:"23px 23px",backgroundImage:`url(${se})`},onClick:A=>{c(R.actions.setShowPlayModal(!1)),N(A),setTimeout(()=>{I(`/album/${r}`)},400)},children:`专辑 ${l}`})]}),t("div",{className:"close absolute bottom-10 text-fg text-center text-3xl w-full left-0","data-close":"true",onClick:N,children:"×"})]})})})]})});V.displayName="SongMore";const ne=({item:l,index:s,renderItem:e,fragmentSize:n,setItemHeight:r,itemH:i})=>{const o=a.useRef(null),c=a.useRef(0);return a.useEffect(()=>{if(c.current===i)return;const d=o.current.childNodes[0],p=d.offsetHeight+parseInt(getComputedStyle(d).marginTop)+parseInt(getComputedStyle(d).marginBottom);c.current=p,r(p)},[r,i]),t("div",{ref:o,children:e(l,s,n)})};function re({bufferSize:l=3,list:s,renderItem:e,rowHeight:n}){const r=a.useRef(n??200),[i,o]=a.useState(0),[c,d]=a.useState(0),[p,b]=a.useState([]),g=a.useRef(0),h=a.useRef(null),f=a.useRef(0),w=a.useRef(0),I=a.useRef(0),C=a.useRef({index:0,top:0,bottom:0}),N=a.useCallback(()=>{C.current={index:f.current,top:f.current*r.current,bottom:f.current*r.current+r.current},w.current=Math.min(f.current+I.current,s.length)},[s.length]),S=a.useCallback(()=>{const m=s.slice(Math.max(0,f.current-l),Math.min(s.length,w.current+l));o(Math.max(0,f.current-l)*r.current),d((s.length-w.current)*r.current),b(m)},[l,s]),y=a.useCallback(()=>{const m=h.current.scrollTop;m-g.current>0?m>C.current.bottom&&(f.current=Math.floor(m/r.current),N(),S()):m-g.current<0&&m<C.current.top&&(f.current=Math.floor(m/r.current),N(),S()),g.current=m},[N,S]),A=a.useCallback(m=>{if(!h.current)return;const E=h.current;r.current=m,I.current=Math.ceil(E.clientHeight/r.current)},[]);return a.useEffect(()=>{if(!h.current)return;const m=h.current;return I.current=Math.ceil(m.clientHeight/r.current),w.current=f.current+I.current,S(),m.addEventListener("scroll",y,!1),()=>{m?.removeEventListener("scroll",y,!1)}},[y,S]),t("div",{className:"wrapper overflow-scroll",style:{height:"100vh"},ref:h,children:u("div",{style:{paddingTop:`${i}px`,paddingBottom:`${c}px`},children:[t("div",{}),p.map((m,E)=>t(ne,{item:m,itemH:r.current,index:E,renderItem:e,setItemHeight:A},f.current+E))]})})}const ae="data:image/png;base64,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",oe=({text:l,style:s})=>t("span",{className:" absolute py-[6px] px-3 rounded-[200px] bg-secondary text-[12px] text-black bottom-[14px] right-[10px] font-bold leading-none",style:s??{},children:`#${l}`}),ie=[97,100,94,90,98,95,98,40],ce=({onClick:l})=>t("span",{onClick:l,className:" w-full h-4 block animate-placeholder-loading",style:{backgroundColor:"#e0e0e0"},"data-testid":"placeholder"}),L=a.memo(({rows:l,widths:s})=>(L.displayName="TextBlock",t(x,{children:Array(l).fill("").map((e,n)=>t("span",{className:" w-full  h-[10px] block animate-placeholder-loading",style:{width:s[(n+s.length)%s.length]+"%",marginTop:"0.6em",backgroundColor:"#e0e0e0"}},n))}))),de={textRow:ce,textBlock:L},Q=a.memo(function({rows:s,isOnlyFirstLunched:e,customPlaceholder:n,ready:r,delay:i,type:o,widths:c,children:d}){const[p,b]=a.useState(()=>r),g=a.useRef(),h=a.useCallback(w=>w.stopPropagation(),[]),f=a.useMemo(()=>{if(n&&J.isValidElement(n))return n;if(o){const w=de[o];return t(w,{rows:s||2,widths:c??ie,onClick:h})}return t(x,{})},[n,s,o,c,h]);return B(()=>{!e&&p&&!r?i&&i>0?g.current=setTimeout(()=>{b(!1)},i):b(!1):r&&(g.current&&clearTimeout(g.current),p||b(!0))},[i,e,p,r]),B(()=>()=>{g.current&&clearTimeout(g.current)},[]),t(x,{children:p?d:f})}),ye=({title:l,showMore:s,style:e={}})=>t("p",{className:" h-4 leading-4 font-bold mt-10 mb-5 text-sm text-dg",style:s?{backgroundImage:`url(${ae})`,backgroundSize:"16px 16px",backgroundRepeat:"no-repeat",backgroundPosition:"100% center",...e}:e,children:l}),ue=({tag:l,url:s,title:e,lazyLoading:n,id:r})=>t(v,{to:`/playlist/${r}`,children:u("div",{className:" w-[48%] mb-3 inline-flex flex-col items-start align-top relative",children:[u("div",{className:"w-[85%] pb-[85%] rounded-[4px] mr-4 relative",children:[n?t(k,{url:s,className:" w-full h-full absolute top-0 left-0 rounded-[4px]"}):t("img",{src:s?s.replace(/https?/,"https"):"",className:" w-full h-full absolute top-0 left-0 rounded-[4px]"}),t(oe,{text:l,style:{bottom:"0",right:"inherit",left:-5,zIndex:4}})]}),t(Q,{ready:!!e,rows:2,type:"textBlock",children:t("span",{className:"two_lines text-fg text-base mr-4 leading-tight mt-3",children:e})})]})}),P=a.memo(({artistName:l,imgUrl:s,title:e,lazyLoading:n,more:r,indexedPic:i,index:o,albumName:c,artistId:d,albumId:p,id:b})=>{const g=U(),h=q(f=>f.root.currentPlaySong.id);return u("div",{className:" flex items-center mb-5",onClick:()=>{g(R.actions.playSong({imgUrl:s,title:e,artistId:d,albumId:p,artistName:l,albumName:c,type:"song",id:b}))},children:[i?t("div",{className:" font-bold mr-6 text-fg",children:(o+"").padStart(2,"0")}):t("div",{className:" w-[44px] h-[44px] rounded-[4px] overflow-hidden relative mr-4",children:n?t(k,{url:s,className:" w-full h-full absolute top-0 left-0 rounded-[4px]"}):t("img",{src:s?s.replace(/https?/,"https"):"",className:" w-full h-full absolute top-0 left-0 rounded-[4px]"})}),t("div",{className:" flex flex-col w-[70%] max-w-[70%]",children:u(Q,{ready:!!e&&!!l,rows:2,type:"textBlock",children:[t("p",{className:Z(" text-fg single_line",{" text-secondary":h===b}),children:e}),t("p",{className:" text-dg text-sm single_line",children:l})]})}),(!!s||r)&&t(V,{artistName:l,albumName:c,artistId:d,songName:e,albumId:p,songId:b,imgUrl:s})]})});P.displayName="SongItem";const me=({imgUrl:l,title:s,id:e})=>t(v,{to:`/mv/${e}`,children:u("div",{className:" flex items-center mb-5 flex-col",children:[t("div",{className:" text-[0px] w-full relative pb-[37%] rounded-[4px] mb-3 overflow-hidden",children:t(k,{url:l,className:" w-full h-full absolute top-0 left-0 rounded-[4px]"})}),t("p",{className:" text-fg two_lines",children:s})]})}),pe=({imgUrl:l,title:s,id:e})=>t(v,{to:`/mv/${e}`,className:" block w-[48%]",children:u("div",{className:" flex items-center mb-5 flex-col w-full",children:[t("div",{className:" text-[0px] w-full relative pb-[63.9%] rounded-[4px] mb-3 overflow-hidden",children:t(k,{url:l,className:" w-full h-full absolute top-0 left-0 rounded-[4px]"})}),t("p",{className:" text-fg two_lines text-left w-full",children:s})]})}),fe=({imgUrl:l,title:s,lazyLoading:e,desc:n,id:r})=>t(v,{to:`/mv/${r}`,children:u("div",{className:" flex items-center mb-5",children:[t("div",{className:" w-[44px] h-[44px] rounded-[4px] overflow-hidden relative mr-4",children:e?t(k,{url:l,className:" w-full h-full absolute top-0 left-0 rounded-[4px]"}):t("img",{src:l?l.replace(/https?/,"https"):"",className:" w-full h-full absolute top-0 left-0 rounded-[4px]"})}),u("div",{className:" flex flex-col w-[70%] max-w-[70%]",children:[t("p",{className:" text-fg single_line",children:s}),t("p",{className:" text-dg text-sm single_line",children:n})]})]})}),Ae=({time:l,imgUrl:s,title:e,id:n})=>t(v,{to:`/album/${n}`,children:u("div",{className:" w-[48%] relative align-top flex-col inline-flex mt-3",children:[t("div",{className:" text-[0px] pb-[85%] rounded-[4px] mb-[10px] mr-4 relative",children:t(k,{url:s,className:" w-full h-full absolute top-0 left-0 rounded-[4px]"})}),t("p",{className:" text-fg single_line pr-4",children:e}),t("p",{className:" text-dg text-sm single_line pr-4",children:l})]})}),ge=({lazyLoading:l,imgUrl:s,desc:e,artistName:n,id:r})=>t(v,{to:`/artist/${r}`,children:u("div",{className:" flex items-center mb-5",children:[t("div",{className:" w-[44px] h-[44px] rounded-[50%] overflow-hidden relative mr-4",children:l?t(k,{url:s??"",className:" w-full h-full absolute top-0 left-0 rounded-[4px]"}):t("img",{src:s?s.replace(/https?/,"https"):"",className:" w-full h-full absolute top-0 left-0 rounded-[4px]"})}),u("div",{className:" flex flex-col w-[70%] max-w-[70%]",children:[t("p",{className:" text-fg single_line",children:n}),!!e&&t("p",{className:" text-dg text-sm single_line",children:e})]})]})}),he=({lazyLoading:l,imgUrl:s,desc:e,title:n,id:r})=>t(v,{to:`/playlist/${r}`,children:u("div",{className:" flex items-center mb-5",children:[t("div",{className:" w-[44px] h-[44px] overflow-hidden relative mr-4",children:l?t(k,{url:s,className:" w-full h-full absolute top-0 left-0 rounded-[4px]"}):t("img",{src:s?s.replace(/https?/,"https"):"",className:" w-full h-full absolute top-0 left-0 rounded-[4px]"})}),t("div",{className:" flex flex-col w-[70%] max-w-[70%]",children:u(Q,{ready:!!n&&!!e,rows:2,type:"textBlock",children:[t("p",{className:" text-fg single_line",children:n}),t("p",{className:" text-dg text-sm single_line",children:e})]})})]})}),xe=({lazyLoading:l,imgUrl:s,desc:e,title:n,id:r})=>t(v,{to:`/album/${r}`,children:u("div",{className:" flex items-center mb-5",children:[t("div",{className:" w-[48px] h-[48px] rounded-[4px] overflow-hidden relative mr-4",children:l?t(k,{url:s,className:" w-full h-full absolute top-0 left-0 rounded-[4px]"}):t("img",{src:s?s.replace(/https?/,"https"):"",className:" w-full h-full absolute top-0 left-0 rounded-[4px]"})}),u("div",{className:" flex flex-col w-[70%] max-w-[70%]",children:[t("p",{className:" text-fg single_line",children:n}),t("p",{className:" text-dg text-sm single_line",children:e})]})]})}),Ee=({list:l,placeHolderCount:s})=>t(x,{children:(l||new Array(s||1).fill({})).map((e,n)=>t(ue,{url:e.coverImgUrl,tag:e.tag,lazyLoading:n>2,title:e.name,id:e.id},`${e.id}-${n}`))}),Ce=({list:l,placeHolderCount:s,lazyAll:e,indexedPic:n,more:r,isVlist:i})=>i?t(re,{rowHeight:64,list:l||new Array(s||1).fill({}),renderItem:(o,c)=>t(P,{artistId:o.artistId,albumId:o.albumId,albumName:o.albumName,id:o.id,imgUrl:o.imgUrl,artistName:o.artistName,title:o.title,lazyLoading:e?!0:c>3,indexedPic:n,index:c+1,more:r},`${o.id}-${c}`)}):t("div",{className:" w-full",style:{contentVisibility:"auto"},children:(l||new Array(s||1).fill({})).map((o,c)=>t(P,{artistId:o.artistId,albumId:o.albumId,albumName:o.albumName,id:o.id,imgUrl:o.imgUrl,artistName:o.artistName,title:o.title,lazyLoading:e?!0:c>3,indexedPic:n,index:c+1,more:r},`${o.id}-${c}`))}),Re=({list:l,placeHolderCount:s})=>t(x,{children:(l||new Array(s||1).fill({})).map((e,n)=>t(Ae,{imgUrl:e.imgUrl,time:e.publishTime,title:e.title,id:e.id},`${e.id}-${n}`))}),Me=({list:l,placeHolderCount:s})=>t(x,{children:(l||new Array(s||1).fill({})).map((e,n)=>t(xe,{imgUrl:e.imgUrl,type:e.type,desc:e.desc,id:e.id,lazyLoading:!0,title:e.title},`${e.id}-${n}`))}),De=({list:l,placeHolderCount:s})=>t(x,{children:(l||new Array(s||1).fill({})).map((e,n)=>t(me,{imgUrl:e.imgUrl,title:e.title,id:e.id},`${e.id}-${n}`))}),Be=({list:l,placeHolderCount:s})=>t(x,{children:(l||new Array(s||1).fill({})).map((e,n)=>t(pe,{imgUrl:e.imgUrl,title:e.title,id:e.id},`${e.id}-${n}`))}),ze=({list:l,placeHolderCount:s})=>t(x,{children:(l||new Array(s||1).fill({})).map((e,n)=>t(fe,{imgUrl:e.imgUrl,title:e.title,id:e.id,desc:e.desc,type:e.type,lazyLoading:!0},`${e.id}-${n}`))}),Pe=({list:l,placeHolderCount:s})=>t(x,{children:(l||new Array(s||1).fill({})).map((e,n)=>t(ge,{imgUrl:e.imgUrl,title:e.title,id:e.id,desc:e.desc,type:e.type,artistName:e.artistName,lazyLoading:!0},`${e.id}-${n}`))}),Qe=({list:l,placeHolderCount:s})=>t(x,{children:(l||new Array(s||1).fill({})).map((e,n)=>t(he,{imgUrl:e.imgUrl,title:e.title,id:e.id,type:"playlist",desc:e.desc,lazyLoading:!0},`${e.id}-${n}`))});export{ge as A,Re as B,oe as L,k as M,De as P,Ce as S,ye as a,Qe as b,Z as c,Be as d,Me as e,ze as f,Pe as g,xe as h,Ee as i,_ as u};
