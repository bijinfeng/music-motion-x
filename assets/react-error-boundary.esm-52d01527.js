import{_ as f}from"./inheritsLoose-54b40604.js";import{b as c}from"./index-12c2092c.js";var h=function(n,e){return n===void 0&&(n=[]),e===void 0&&(e=[]),n.length!==e.length||n.some(function(r,t){return!Object.is(r,e[t])})},d={error:null},m=function(i){f(n,i);function n(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=i.call.apply(i,[this].concat(o))||this,r.state=d,r.resetErrorBoundary=function(){for(var s,l=arguments.length,u=new Array(l),p=0;p<l;p++)u[p]=arguments[p];r.props.onReset==null||(s=r.props).onReset.apply(s,u),r.reset()},r}n.getDerivedStateFromError=function(t){return{error:t}};var e=n.prototype;return e.reset=function(){this.setState(d)},e.componentDidCatch=function(t,o){var a,s;(a=(s=this.props).onError)==null||a.call(s,t,o)},e.componentDidUpdate=function(t,o){var a=this.state.error,s=this.props.resetKeys;if(a!==null&&o.error!==null&&h(t.resetKeys,s)){var l,u;(l=(u=this.props).onResetKeysChange)==null||l.call(u,t.resetKeys,s),this.reset()}},e.render=function(){var t=this.state.error,o=this.props,a=o.fallbackRender,s=o.FallbackComponent,l=o.fallback;if(t!==null){var u={error:t,resetErrorBoundary:this.resetErrorBoundary};if(c.isValidElement(l))return l;if(typeof a=="function")return a(u);if(s)return c.createElement(s,u);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},n}(c.Component);function y(i,n){var e=function(o){return c.createElement(m,n,c.createElement(i,o))},r=i.displayName||i.name||"Unknown";return e.displayName="withErrorBoundary("+r+")",e}function g(i){var n=c.useState(null),e=n[0],r=n[1];if(i!=null)throw i;if(e!=null)throw e;return r}export{m as ErrorBoundary,g as useErrorHandler,y as withErrorBoundary};
