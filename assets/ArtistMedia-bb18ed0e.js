import{n as u,e as d,j as c,a as e,l as h,B as b,i as r}from"./index-e3a9fa00.js";import{d as f}from"./dayjs.min-5aad4c3d.js";import{P as g}from"./AppBack-a366de99.js";const y=()=>{const{artistid:s,type:t}=u(),{data:m}=d(t==="song"?[`/api/artists?id=${s}`,t]:"",()=>t==="song"?r.get(`/api/artists?id=${s}`).then(i=>i.data).then(i=>{const{hotSongs:l}=i;return l.map(a=>({imgUrl:a.al.picUrl,title:a.name,desc:a.al.name,artistId:a.ar[0].id,albumId:a.al.id,artistName:a.ar.length?[...a.ar].reverse().reduce((o,p)=>`${p.name} ${o}`,""):"",albumName:a.al.name,type:"song",id:a.id}))}):null),{data:n}=d(t==="album"?[`/api/artist/album?id=${s}&offset=0&limit=200`,t]:"",()=>t==="album"?r.get(`/api/artist/album?id=${s}&offset=0&limit=200`).then(i=>i.data).then(i=>{const{hotAlbums:l}=i;return l.map(a=>({imgUrl:a.picUrl,title:a.name,publishTime:a.publishTime?f(new Date(a.publishTime),"YYYY-MM-DD").format("YYYY-MM-DD"):null,type:"bigAlbum",albumId:a.id,id:a.id}))}):null);return c("div",{className:" ",children:[e("div",{className:" fixed top-0 w-full z-[100]",children:e(g,{title:t==="song"?"热曲":t==="album"?"热门专辑":"",isBlack:!1,style:{paddingTop:16,paddingBottom:16}})}),t==="song"&&e("div",{className:"  mt-24 px-4",children:e(h,{list:m??void 0,placeHolderCount:10})}),t==="album"&&e("div",{className:"  mt-24 px-4",children:e(b,{list:n??void 0,placeHolderCount:4})})]})};export{y as default};
