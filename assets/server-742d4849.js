import{b as s}from"./index-401e96bf.js";import{H as u,r as c,R as h,i as f,o as w,D as m,v as b,B as y,a2 as E,e as R,a3 as D,a4 as S,h as _}from"./index-b43b7b60.js";function M({basename:e,children:r,location:t="/"}){typeof t=="string"&&(t=u(t));let o=c.Pop,a={pathname:t.pathname||"/",search:t.search||"",hash:t.hash||"",state:t.state||null,key:t.key||"default"},n=g();return s.createElement(h,{basename:e,children:r,location:a,navigationType:o,navigator:n,static:!0})}function O({context:e,router:r,hydrate:t=!0,nonce:o}){r&&e||f(!1);let a={router:r,navigator:g(),static:!0,staticContext:e,basename:e.basename||"/"},n="";if(t!==!1){let i={loaderData:e.loaderData,actionData:e.actionData,errors:k(e.errors)};n=`window.__staticRouterHydrationData = JSON.parse(${JSON.stringify(JSON.stringify(i))});`}return s.createElement(s.Fragment,null,s.createElement(w.Provider,{value:a},s.createElement(m.Provider,{value:a.router.state},s.createElement(h,{basename:a.basename,location:a.router.state.location,navigationType:a.router.state.historyAction,navigator:a.navigator},s.createElement(b,null)))),n?s.createElement("script",{suppressHydrationWarning:!0,nonce:o,dangerouslySetInnerHTML:{__html:n}}):null)}function k(e){if(!e)return null;let r=Object.entries(e),t={};for(let[o,a]of r)y(a)?t[o]={...a,__type:"RouteErrorResponse"}:a instanceof Error?t[o]={message:a.message,__type:"Error"}:t[o]=a;return t}function g(){return{createHref:v,encodeLocation:p,push(e){throw new Error(`You cannot use navigator.push() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${JSON.stringify(e)})\` somewhere in your app.`)},replace(e){throw new Error(`You cannot use navigator.replace() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${JSON.stringify(e)}, { replace: true })\` somewhere in your app.`)},go(e){throw new Error(`You cannot use navigator.go() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${e})\` somewhere in your app.`)},back(){throw new Error("You cannot use navigator.back() on the server because it is a stateless environment.")},forward(){throw new Error("You cannot use navigator.forward() on the server because it is a stateless environment.")}}}function d(e,r=new Map){return e.forEach(t=>{r.set(t.id,t),t.children&&d(t.children,r)}),r}function A(e,r){let t=E(R(e)),o=d(t),a=r.matches.map(i=>{let l=o.get(i.route.id)||i.route;return{...i,route:l}}),n=i=>`You cannot use router.${i}() on the server because it is a stateless environment`;return{get basename(){return r.basename},get state(){return{historyAction:c.Pop,location:r.location,matches:a,loaderData:r.loaderData,actionData:r.actionData,errors:r.errors,initialized:!0,navigation:D,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",fetchers:new Map,blockers:new Map}},get routes(){return t},initialize(){throw n("initialize")},subscribe(){throw n("subscribe")},enableScrollRestoration(){throw n("enableScrollRestoration")},navigate(){throw n("navigate")},fetch(){throw n("fetch")},revalidate(){throw n("revalidate")},createHref:v,encodeLocation:p,getFetcher(){return S},deleteFetcher(){throw n("deleteFetcher")},dispose(){throw n("dispose")},getBlocker(){throw n("getBlocker")},deleteBlocker(){throw n("deleteBlocker")},_internalFetchControllers:new Map,_internalActiveDeferreds:new Map}}function v(e){return typeof e=="string"?e:_(e)}function p(e){let r=typeof e=="string"?u(e):e;return{pathname:r.pathname||"",search:r.search||"",hash:r.hash||""}}export{M as StaticRouter,O as StaticRouterProvider,A as createStaticRouter};
