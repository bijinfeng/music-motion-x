import{j as u,a as e}from"./index-12c2092c.js";import{u as m}from"./useQuery-f35a1b42.js";import{d as c}from"./dayjs.min-e0581402.js";import{a as l}from"./Spinner-3ac26fa1.js";import{P as f}from"./AppBack-3618211c.js";import{S as h,B as b}from"./MediaItemList-9cd646f5.js";import{Z as g}from"./index-8f535541.js";import"./extends-98964cd2.js";import"./inheritsLoose-54b40604.js";import"./index-78d1f01c.js";import"./index-7c9c9a2c.js";import"./useIsomorphicEffect-25b21b46.js";const T=()=>{const{artistid:s,type:a}=g(),{data:d}=m(a==="song"?[`/api/artists?id=${s}`,a]:"",()=>a==="song"?l.get(`/api/artists?id=${s}`).then(i=>i.data).then(i=>{const{hotSongs:r}=i;return r.map(t=>({imgUrl:t.al.picUrl,title:t.name,desc:t.al.name,artistId:t.ar[0].id,albumId:t.al.id,artistName:t.ar.length?[...t.ar].reverse().reduce((p,n)=>`${n.name} ${p}`,""):"",albumName:t.al.name,type:"song",id:t.id}))}):null),{data:o}=m(a==="album"?[`/api/artist/album?id=${s}&offset=0&limit=200`,a]:"",()=>a==="album"?l.get(`/api/artist/album?id=${s}&offset=0&limit=200`).then(i=>i.data).then(i=>{const{hotAlbums:r}=i;return r.map(t=>({imgUrl:t.picUrl,title:t.name,publishTime:t.publishTime?c(new Date(t.publishTime),"YYYY-MM-DD").format("YYYY-MM-DD"):null,type:"bigAlbum",albumId:t.id,id:t.id}))}):null);return u("div",{className:" ",children:[e("div",{className:" fixed top-0 w-full z-[100]",children:e(f,{title:a==="song"?"热曲":a==="album"?"热门专辑":"",isBlack:!1,style:{paddingTop:16,paddingBottom:16}})}),a==="song"&&e("div",{className:"  mt-24 px-4",children:e(h,{list:d??void 0,placeHolderCount:10})}),a==="album"&&e("div",{className:"  mt-24 px-4",children:e(b,{list:o??void 0,placeHolderCount:4})})]})};export{T as default};
