import{b as p,j as c,a as s}from"./index-12c2092c.js";import{c as d,L as n,b as f}from"./MediaItemList-9cd646f5.js";import{u as e}from"./useQuery-f35a1b42.js";import{a as r}from"./Spinner-3ac26fa1.js";import{P as u}from"./AppBack-3618211c.js";import"./index-78d1f01c.js";import"./index-8f535541.js";import"./index-7c9c9a2c.js";import"./extends-98964cd2.js";import"./useIsomorphicEffect-25b21b46.js";import"./inheritsLoose-54b40604.js";const L=()=>{const[i,o]=p.useState(""),{data:l}=e("/api/playlist/catlist",()=>r.get("/api/playlist/catlist").then(t=>t.data.sub.filter(a=>a.hot).map(a=>a.name))),{data:m}=e(i||l?.[0]?`/api/top/playlist?limit=200&order=hot&cat=${i||l?.[0]}`:"",()=>i||l?.[0]?r.get(`/api/top/playlist?limit=200&order=hot&cat=${i||l?.[0]}`).then(t=>t.data.playlists.map(a=>({imgUrl:a.coverImgUrl,title:a.name,desc:`${a.trackCount}首`,type:"playlist",id:a.id}))):null,{suspense:!1});return c("div",{className:" px-4",children:[s(u,{isBlack:!1,style:{paddingLeft:0},title:"playlist_歌单"}),s("div",{className:" flex flex-wrap mt-4",children:l?.map(t=>s("div",{className:d("transition-all duration-300 mt-4 mr-3",{" scale-125 mr-4 ":i===t}),onClick:()=>o(t),children:s(n,{text:t,style:{position:"static"}})},t))}),s("div",{className:" mt-8",children:s(f,{list:m??void 0,placeHolderCount:8})})]})};export{L as default};
