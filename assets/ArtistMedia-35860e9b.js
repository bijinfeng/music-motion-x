import{j as u,a as e}from"./index-03eb5bc5.js";import{u as m}from"./useQuery-dedb3b52.js";import{d as c}from"./dayjs.min-d9433ffa.js";import{a as l}from"./Spinner-4dd26406.js";import{P as f}from"./AppBack-7c94106c.js";import{S as h,B as b}from"./MediaItemList-f2388cba.js";import{Z as g}from"./index-148c3eca.js";import"./extends-98964cd2.js";import"./inheritsLoose-54b40604.js";import"./index-89495b59.js";import"./index-a77eba25.js";import"./useIsomorphicEffect-6f95aa50.js";const T=()=>{const{artistid:s,type:a}=g(),{data:d}=m(a==="song"?[`/api/artists?id=${s}`,a]:"",()=>a==="song"?l.get(`/api/artists?id=${s}`).then(i=>i.data).then(i=>{const{hotSongs:r}=i;return r.map(t=>({imgUrl:t.al.picUrl,title:t.name,desc:t.al.name,artistId:t.ar[0].id,albumId:t.al.id,artistName:t.ar.length?[...t.ar].reverse().reduce((p,n)=>`${n.name} ${p}`,""):"",albumName:t.al.name,type:"song",id:t.id}))}):null),{data:o}=m(a==="album"?[`/api/artist/album?id=${s}&offset=0&limit=200`,a]:"",()=>a==="album"?l.get(`/api/artist/album?id=${s}&offset=0&limit=200`).then(i=>i.data).then(i=>{const{hotAlbums:r}=i;return r.map(t=>({imgUrl:t.picUrl,title:t.name,publishTime:t.publishTime?c(new Date(t.publishTime),"YYYY-MM-DD").format("YYYY-MM-DD"):null,type:"bigAlbum",albumId:t.id,id:t.id}))}):null);return u("div",{className:" ",children:[e("div",{className:" fixed top-0 w-full z-[100]",children:e(f,{title:a==="song"?"热曲":a==="album"?"热门专辑":"",isBlack:!1,style:{paddingTop:16,paddingBottom:16}})}),a==="song"&&e("div",{className:"  mt-24 px-4",children:e(h,{list:d??void 0,placeHolderCount:10})}),a==="album"&&e("div",{className:"  mt-24 px-4",children:e(b,{list:o??void 0,placeHolderCount:4})})]})};export{T as default};
